{
  "type": "SPEC",
  "spec": {
    "documentationUrl": "https://docs.airbyte.io/integrations/sources/affirm",
    "changelogUrl": "https://docs.airbyte.io/integrations/sources/affirm",
    "connectionSpecification": {
      "title": "Affirm Settlement Reports Spec",
      "type": "object",
      "properties": {
        "auth_type": {
          "title": "Auth Type",
          "const": "oauth2.0",
          "order": 1,
          "type": "string"
        },
        "start_date": {
          "title": "Start Date",
          "description": "date in the format 2015-01-01. Any data before this date will not be replicated.",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$",
          "examples": [
            "2015-01-01"
          ],
          "type": "string"
        },
        "end_date": {
          "title": "End Date",
          "description": "date in the format 2015-01-01. Any data after this date will not be replicated.",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$|^$",
          "examples": [
            "2015-01-01"
          ],
          "type": "string"
        },
        "period_in_days": {
          "title": "Period In Days",
          "description": "Will be used for stream slicing for initial full_refresh sync when no updated state is present for reports that support sliced incremental sync.",
          "default": 30,
          "examples": [
            "30",
            "365"
          ],
          "type": "integer"
        },
        "affirm_country": {
          "title": "Country",
          "description": "Select country of settlement reports.",
          "examples": [
            "US",
            "CA",
            "AU"
          ],
          "allOf": [
            {
              "$ref": "#/definitions/AffirmCountry"
            }
          ]
        },
        "merchant_type": {
          "title": "Merchant Type",
          "description": "Select e-commerce or in-store",
          "examples": [
            "e-commerce",
            "in-store"
          ],
          "allOf": [
            {
              "$ref": "#/definitions/AffirmMerchantType"
            }
          ]
        },
        "report_type": {
          "title": "Report Type",
          "description": "Select details or summary",
          "examples": [
            "details",
            "summary"
          ],
          "allOf": [
            {
              "$ref": "#/definitions/AffirmSettlementReportType"
            }
          ]
        },
        "lookback_window_days": {
          "title": "Lookback Window in Days",
          "description": "When set, the connector will always re-export data from the past N days",
          "default": 3,
          "type": "integer"
        }
      },
      "required": [
        "start_date",
        "affirm_country",
        "merchant_type",
        "report_type"
      ],
      "additionalProperties": true,
      "definitions": {
        "AffirmCountry": {
          "title": "AffirmCountry",
          "description": "An enumeration.",
          "enum": [
            "US",
            "CA",
            "AU"
          ],
          "type": "string"
        },
        "AffirmMerchantType": {
          "title": "AffirmMerchantType",
          "description": "An enumeration.",
          "enum": [
            "e-commerce",
            "in-store"
          ],
          "type": "string"
        },
        "AffirmSettlementReportType": {
          "title": "AffirmSettlementReportType",
          "description": "An enumeration.",
          "enum": [
            "summary",
            "details"
          ],
          "type": "string"
        }
      }
    }
  }
}
